MailFilter Technical Information Document

  ---------------------------------------------
  MFFilterICE.exe, FilterEdit.exe: File formats
  ---------------------------------------------

MFFilterICE.exe is a utility to convert between TAB format and the binary MailFilter Rule package files.
To create a TAB file from a rule package file use: MFFilterICE.exe -bin filters.bin -tab filters.tab
To create a rule package file from your TAB: MFFilterICE.exe -tab filters.tab -bin filters.bin

FilterEdit.exe can do exactly the same, but is a graphical application.


The rule package is exported in this TAB format by MFFilterICE:
   Matchfield<TAB>Notify<TAB>Type<TAB>Action<TAB>Enabled<TAB>Incoming<TAB>Outgoing<TAB>Description<TAB>Expression

The rule package is exported in this CSV format by MFFilterICE:
   Matchfield,Notify,Type,Action,Enabled,Incoming,Outgoing,Description,Expression


The first four fields are hex values, in particular:
   Matchfield:
	MAILFILTER_MATCHFIELD_ALWAYS			0x0000
	MATCHFIELD_ATTACHMENT				0x0001
	MATCHFIELD_EMAIL				0x0002
	MATCHFIELD_SUBJECT				0x0003
	MATCHFIELD_SIZE					0x0004
	MATCHFIELD_EMAIL_FROM				0x0005
	MATCHFIELD_EMAIL_TO				0x0006
	MAILFILTER_MATCHFIELD_BLACKLIST			0x0007
	MAILFILTER_MATCHFIELD_IPUNRESOLVABLE		0x0008
	MAILFILTER_MATCHFIELD_ARCHIVECONTENTNAME	0x0009
	MAILFILTER_MATCHFIELD_ARCHIVECONTENTCOUNT	0x0010
	MAILFILTER_MATCHFIELD_EMAIL_TOANDCC		0x0011
	MAILFILTER_MATCHFIELD_EMAIL_BOTHANDCC		0x0012

   Notification Type (can be OR'ed together):
	NOTIFICATION_ADMIN_INCOMING			0x0001
	NOTIFICATION_ADMIN_OUTGOING			0x0002
	NOTIFICATION_SENDER_INCOMING			0x0004
	NOTIFICATION_SENDER_OUTGOING			0x0008
	NOTIFICATION_RECIPIENT_INCOMING			0x0010
	NOTIFICATION_RECIPIENT_OUTGOING			0x0020

   Match Type:
	MATCHTYPE_MATCH					0x0000
	MATCHTYPE_NOMATCH				0x0001

   Action on Match:
	MATCHACTION_DROP_MAIL				0x0001
	MATCHACTION_MOVE_MAIL				0x0002
	MATCHACTION_RESCAN				0x0004
	MATCHACTION_PASS				0x0008
	MATCHACTION_SCHEDULE				0x0010
	MAILFILTER_MATCHACTION_NOSCHEDULE		0x0020
	MAILFILTER_MATCHACTION_COPY			0x0040

Enabled should always be set to '1'.
Incoming and Outgoing represent if the rule should be enabled for Incoming/Outgoing mails. (0 = Disabled, 1 = Enabled)

Description is a string which can be up to 60 characters long, describing the rule in short words.
Expression is a string which contains the expression for this rule. It can be up to 200 characters long.

-------------------- Current for MailFilter 1.5.8 -----
-------------------- Last Updated: Jul, 24th 2004 -----

